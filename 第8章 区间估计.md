点估计是用样本统计量来估计总体参数，不可能期望点估计完全准确地对总体参数作出估计，因此在点估计的基础之上加减一个**边际误差**来构造一个**区间估计**。

总体均值和比率的区间估计一般形式为：
$$
\overline{x}\pm\text{边际误差}  

\overline{p}\pm\text{边际误差}
$$

# 8.1 总体均值的区间估计：`$\sigma$`已知的情形
**置信水平**：与区间估计相对应的置信度，如某区间估计的构造基于95%的置信水平

**置信系数**：`$1-\alpha$`，用小数形式表示的置信水平，如置信水平为95%，置信系数为0.95

**`$\sigma$`已知情形下总体均值的区间估计：**
```math
\overline{x} \pm z_{\alpha/2}\frac{\sigma}{\sqrt{n}}
```

样本均值标准误差：$\sigma_{\overline{x}}=\frac{\sigma}{\sqrt{n}}$

边际误差：`$z_{\alpha/2}\frac{\sigma}{\sqrt{n}}$`，其中`$z_{\alpha/2}$`是标准正态分布中右侧面积为`$\frac{\alpha}{2}$`时（也就是概率为`$1-\frac{\alpha}{2}$`时）相应的`$z$`值，可通过查表获得

**例：已知总体标准差`$\sigma=20$`，样本均值`$\overline{x}=82$`，样本数量`$n=100$`，构造一个95%置信水平的区间估计（置信区间）**
1. `$\alpha/2=(1-0.95)/2=0.025$`  
2. 通过查询正态分布表，查找到概率为`$1-0.025=0.975$`的z值为1.96，即`$z_{0.025}=1.96$`  
3. 边际误差为：`$z_{\alpha/2}\frac{\sigma}{\sqrt{n}}=1.96\frac{20}{\sqrt{100}}=3.92$`  
4. 代入公式中：
```math
82 \pm 1.96\frac{20}{\sqrt{100}}=82\pm3.92
```
5. 因此95%置信区间为78.08到85.92，边际误差为3.92

**常用置信水平的$z_{\alpha/2}$值**

置信水平|a|b|c
:-:|:-:|:-:|:-:
90%|0.10|0.05|1.645
95%|0.05|0.025|1.960
99%|0.01|0.005|2.576

**为了确保更高的置信度，边际误差以及相应的置信区间宽度必须放大。**

# 8.2 总体均值的区间估计：`$\sigma$`未知的情形
**`$t$`分布**：由不同**自由度**决定的一系列分布组成的一族分布。当总体标准差`$\sigma$`未知而用样本标准差`$s$`对其进行估计时，该分布用于计算总体均值的估计区间。

**自由度**：`$t$`分布的参数，当`$t$`分布用于计算总体均值的区间估计时，其自由度为`$n-1$`，其中`$n$`是样本容量。

**`$\sigma$`未知情形下总体均值的区间估计：**
```math
\overline{x} \pm t_{\alpha/2}\frac{s}{\sqrt{n}}
```
`$s$`为样本标准差  
`$1-\alpha$`为置信系数，`$\alpha$`取值可参考上节的**常用置信水平的`$z_{\alpha/2}$`值**表  
`$t_{\alpha/2}$`为自由度为`$n-1$`时使`$t$`分布的上侧面积为`$\alpha/2$`的临界值，可通过查询`$t$`分布表获得

>**注：**  
>正态分布表中`$z$`值左侧的面积用来表示累积概率；  
>`$t$`分布表中`$t$`临界值右侧的面积表示对应的概率（面积）。

**例：样本容量为`$n=70$`，样本均值为`$\overline{x}=9312$`，样本标准差为`$s=4007$`，构造一个95%置信水平的区间估计。**
1. `$\alpha/2=(1-0.95)/2=0.025$`
2. 自由度为`$n-1=70-1=69$`
3. 通过查询`$t$`分布表，得到自由度为69时，`$t_{\alpha/2}=t_{0.025}=1.995$`
4. 代入公式中：
```math
\overline{x} \pm t_{\alpha/2}\frac{s}{\sqrt{n}}
=
9312 \pm 1.995\frac{4007}{\sqrt{70}}
=
9312 \pm 955
```
5. 因此95%的置信区间为8357到10267，边际误差为955

**注：在进行总体均值的区间估计时**  
- 大部分情况下，样本容量≥30就足够了；
- 如果总体分布的偏度比较严重或包含异常点，建议样本容量≥50；
- 如果总体分布不是正态分布但大致对称，样本容量为15时就可以了；
- 只有总体分布至少是近似正态的情况下，才可以在更小的样本容量下进行区间估计。

# 8.3 样本容量的确定
**总体均值的区间估计中所需的样本容量**：
```math
n=\frac{(z_{\alpha/2})^2\sigma^2}{E^2}
```
其中`$E$`为所希望的边际误差，总体标准差`$\sigma$`已知

若`$\sigma$`未知，可选择以下过程之一来确定：
1. 根据以前研究中的数据来计算总体标准差的一个估计值作为`$\sigma$`的估计
2. 利用初始研究先选择一个初始样本，初始样本的样本标准差可作为`$\sigma$`的计划值
3. 对`$\sigma$`值进行判断或最优猜测，如估计总体最大和最小值，两者之差是数据极差的估计，将该极差除以4作为标准差`$\sigma$`的粗略估计

例：希望的边际误差`$E=2$`，置信水平为95%，`$\sigma$`的估计值为9.65，求样本容量
```math
1-\alpha=0.95

\alpha=0.05

z_{\alpha/2}=z_{0.025}=1.96

n=\frac{(z_{\alpha/2})^2\sigma^2}{E^2}
=
\frac{1.96^2 9.65^2}{2^2}=89.43
```
所得结果向上取整=90，样本容量为90
